(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[0],{277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},285:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},475:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(32),c=n.n(i),s=(n(277),n(40)),o=n(20),l=n(21),d=n(23),u=n(22),p=n(489),j=(n(278),n(79)),h=(n(279),n.p+"static/media/logo.6cadbf60.png"),b=n(64),m=n(500),O=n(501),f=n(272),x=n(502),g=n(503),y=n(504),v=n(505),w=n(506),C=n(507),k=n(508),I=n(3),S=[{title:"\u9996\u9875",key:"/home",icon:Object(I.jsx)(m.a,{}),isPublic:!0},{title:"\u5546\u54c1",key:"/products",icon:Object(I.jsx)(O.a,{}),children:[{title:"\u54c1\u7c7b\u7ba1\u7406",key:"/category",icon:Object(I.jsx)(f.a,{})},{title:"\u5546\u54c1\u7ba1\u7406",key:"/product",icon:Object(I.jsx)(x.a,{})}]},{title:"\u7528\u6237\u7ba1\u7406",key:"/user",icon:Object(I.jsx)(g.a,{})},{title:"\u89d2\u8272\u7ba1\u7406",key:"/role",icon:Object(I.jsx)(y.a,{})},{title:"\u56fe\u5f62\u56fe\u8868",key:"/charts",icon:Object(I.jsx)(v.a,{}),children:[{title:"\u67f1\u5f62\u56fe",key:"/charts/bar",icon:Object(I.jsx)(w.a,{})},{title:"\u6298\u7ebf\u56fe",key:"/charts/line",icon:Object(I.jsx)(C.a,{})},{title:"\u997c\u56fe",key:"/charts/pie",icon:Object(I.jsx)(k.a,{})}]}],N=n(141),L=n.n(N),_="user";function M(){if(L.a.get(_))return JSON.parse(L.a.get(_))}var A=p.a.Sider,V=j.a.SubMenu,z=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getMenuNodes=function(e){var t=a.props.location.pathname;return e.map((function(e){if(a.hasAuth(e))return e.children?(e.children.find((function(e){return 0===t.indexOf(e.key)}))&&(a.openKey=e.key),Object(I.jsx)(V,{icon:e.icon,title:e.title,children:a.getMenuNodes(e.children)},e.key)):Object(I.jsx)(j.a.Item,{icon:e.icon,children:Object(I.jsx)(b.b,{to:e.key,children:e.title})},e.key)}))},a.hasAuth=function(e){var t=e.isPublic,n=e.key,a=M().role.menus;return!("admin"!==M().username&&!t&&-1===a.indexOf(n))||!!e.children&&!!e.children.find((function(e){return-1!==a.indexOf(e.key)}))},a.menuNodes=a.getMenuNodes(S),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.location.pathname,t=this.openKey;return 0===e.indexOf("/product")&&(e="/product"),Object(I.jsxs)(A,{trigger:null,collapsible:!0,collapsed:this.props.collapsed,children:[Object(I.jsxs)(b.b,{to:"/",className:"logo",children:[Object(I.jsx)("img",{className:"img",src:h,alt:h}),Object(I.jsx)("span",{className:"font",children:"\u5915\u989c\u540e\u53f0"})]}),Object(I.jsx)(j.a,{theme:"dark",mode:"inline",defaultOpenKeys:[t],selectedKeys:[e],children:this.menuNodes})]})}}]),n}(a.Component),D=Object(s.g)(z),T=n(140),F=n(509),R=n(510),U=n(495),P=n(44),q=n(59),K=n.n(q),H=(n(285),n(95)),E=n(259),J=n.n(E),W=n(268),Z=J.a.create({baseURL:"http://api.xxx.com",timeout:6e5});Z.interceptors.request.use((function(e){return e.headers["x-access-token"]="123",e}),(function(e){return Promise.reject(e)})),Z.interceptors.response.use((function(e){return 0!==e.data.status&&W.b.error(e.data.msg),e.data}),(function(e){return e.response.status,Promise.reject(e)}));var B=Z;var Q="receive_user",$="logout_user",G=function(e){return function(t){L.a.remove(_),t(function(e){return{type:$,data:e}}(e))}},X=p.a.Header,Y=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).toggle=function(){K.a.publish("collapsed",!e.props.collapsed)},e.logout=function(){U.a.confirm({icon:Object(I.jsx)(T.a,{}),content:"\u786e\u8ba4\u8981\u9000\u51fa\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){e.props.doLogout(""),e.props.history.replace("/login")}})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsxs)(X,{className:"site-layout-background",style:{padding:0},children:[r.a.createElement(this.props.collapsed?F.a:R.a,{className:"trigger",onClick:this.toggle}),Object(I.jsx)("div",{className:"logout",children:Object(I.jsxs)("span",{children:["\u6b22\u8fce\u4f60\uff1a",this.props.user.username,Object(I.jsx)(P.a,{onClick:this.logout,type:"link",children:"\u9000\u51fa"})]})})]})}}]),n}(a.Component),ee=Object(H.b)((function(e){return{user:e.user}}),{doLogout:G})(Object(s.g)(Y)),te=p.a.Content,ne=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsx)(te,{className:"site-layout-background",style:{margin:"24px",padding:24,minHeight:280},children:this.props.children})}}]),n}(a.Component),ae=p.a.Footer,re=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsx)(ae,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})}}]),n}(a.Component),ie=n(497),ce=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.location.pathname.trim().split("/");return Object(I.jsx)(ie.a,{style:{margin:"24px 24px 0px 24px"},children:e.map((function(e,t){return Object(I.jsxs)(ie.a.Item,{children:[t<0?"/":"",e]},t)}))})}}]),n}(a.Component),se=Object(s.g)(ce),oe=(n(303),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"box",children:Object(I.jsx)("div",{className:"title",children:"\u6b22\u8fce\u4f7f\u7528\u5915\u989c\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"})})}}]),n}(a.Component)),le=n(490),de=n(492),ue=n(498),pe=(n(304),n(511)),je=n(512);function he(e){return B({url:"/manage/category/list?parentId=".concat(e),method:"get"})}function be(e){return B({url:"/manage/category/add",method:"post",data:e})}function me(e){return B({url:"/manage/category/update",method:"post",data:e})}function Oe(e){return B({url:"/manage/category/info?categoryId="+e,method:"get"})}var fe=n(494),xe=n(139),ge=n(266),ye=(n(305),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).save=function(t){t=JSON.parse(JSON.stringify(t).replace(/name/g,"categoryName")),e.props.add(t)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectCategoryList,n=e.parentId;return Object(I.jsxs)(fe.a,{layout:"vertical",initialValues:{parentId:n},onFinish:this.save,children:[Object(I.jsx)(fe.a.Item,{label:"\u6240\u5c5e\u5206\u7c7b",name:"parentId",children:Object(I.jsxs)(xe.a,{children:[Object(I.jsx)(xe.a.Option,{value:0,children:"\u4e00\u7ea7\u5206\u7c7b"}),t.map((function(e){return Object(I.jsx)(xe.a.Option,{value:e._id,children:e.name},e._id)}))]})}),Object(I.jsx)(fe.a.Item,{label:"\u5206\u7c7b\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"}],children:Object(I.jsx)(ge.a,{placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"})}),Object(I.jsxs)(fe.a.Item,{wrapperCol:{offset:8,span:16},children:[Object(I.jsx)(P.a,{onClick:this.props.handleCancel,children:"\u53d6\u6d88"}),Object(I.jsx)(P.a,{type:"primary",htmlType:"submit",children:"\u6dfb\u52a0"})]})]})}}]),n}(a.Component)),ve=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.category||"",t=e.name,n=e._id,a=this.props.getFromDate;return Object(I.jsx)(fe.a,{layout:"vertical",initialValues:{name:t},children:Object(I.jsx)(fe.a.Item,{label:"\u5206\u7c7b\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0!"}],children:Object(I.jsx)(ge.a,{onChange:function(e){return a({categoryId:n,categoryName:e.target.value})},placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"})})})}}]),n}(a.Component),we=le.a.Column,Ce=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={categoryList:[],selectCategoryList:[],parentId:0,parentName:"",loading:!1,addIsModalVisible:!1,updateIsModalVisible:!1,data:{}},e.getFromDate=function(t){e.setState({data:t})},e.init=function(){e.setState({loading:!0}),he(e.state.parentId).then((function(t){e.setState({categoryList:t.data,loading:!1}),0===e.state.parentId&&e.setState({selectCategoryList:t.data})}))},e.handFindChild=function(t){return function(){e.setState({parentId:t._id,parentName:t.name},(function(){e.init()}))}},e.back=function(){e.setState({parentId:0},(function(){e.init()}))},e.showAdd=function(){e.setState({addIsModalVisible:!0})},e.showUpdate=function(t){e.category=t,e.setState({updateIsModalVisible:!0,data:{categoryId:t._id,categoryName:t.name}})},e.add=function(t){be(t).then((function(t){0===t.status&&(e.handleCancel(),e.init())}))},e.update=function(){""!==e.state.data.categoryName?me(e.state.data).then((function(t){0===t.status&&(e.handleCancel(),e.init())})):W.b.error("\u5206\u7c7b\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")},e.handleCancel=function(){e.setState({addIsModalVisible:!1,updateIsModalVisible:!1})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this,t=this.state,n=t.categoryList,a=t.selectCategoryList,r=t.parentId,i=t.loading,c=t.parentName,s=t.addIsModalVisible,o=t.updateIsModalVisible,l=this.category||{};return Object(I.jsxs)("div",{children:[Object(I.jsx)(de.a,{title:0===r?"\u4e00\u7ea7\u5206\u7c7b\u5217\u8868":Object(I.jsxs)("span",{children:["\u4e00\u7ea7\u5206\u7c7b\u5217\u8868",Object(I.jsx)(pe.a,{style:{marginLeft:10}}),Object(I.jsx)(P.a,{onClick:this.back,type:"link",children:c})]}),extra:Object(I.jsx)(P.a,{icon:Object(I.jsx)(je.a,{}),type:"primary",onClick:this.showAdd,children:"\u6dfb\u52a0"}),style:{width:"100%",height:"100%"},children:Object(I.jsxs)(le.a,{bordered:!0,pagination:{pageSize:5,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:[5,10,15,20]},loading:i,dataSource:n,rowKey:"_id",children:[Object(I.jsx)(we,{title:"\u5206\u7c7b\u540d\u79f0",dataIndex:"name"},"_id"),Object(I.jsx)(we,{width:"300px",title:"\u64cd\u4f5c",render:function(t,n){return Object(I.jsxs)(ue.b,{size:"middle",children:[Object(I.jsx)(P.a,{onClick:function(){return e.showUpdate(t)},type:"link",children:"\u4fee\u6539\u5206\u7c7b"}),0===r?Object(I.jsx)(P.a,{type:"link",onClick:e.handFindChild(t),children:"\u67e5\u770b\u5b50\u5206\u7c7b"}):null]})}},"action")]})}),Object(I.jsx)(U.a,{footer:null,destroyOnClose:!0,title:"\u6dfb\u52a0",visible:s,onCancel:this.handleCancel,children:Object(I.jsx)(ye,{parentId:r,selectCategoryList:a,add:this.add,handleCancel:this.handleCancel})}),Object(I.jsx)(U.a,{destroyOnClose:!0,title:"\u4fee\u6539",visible:o,onOk:this.update,onCancel:this.handleCancel,children:Object(I.jsx)(ve,{getFromDate:this.getFromDate,category:l})})]})}}]),n}(a.Component);function ke(e,t){return B({url:"/manage/product/list?pageNum=".concat(e,"&pageSize=").concat(t),method:"get"})}function Ie(e,t,n,a){return B({url:"/manage/product/search?pageNum=".concat(e,"&pageSize=").concat(t,"&").concat(n,"=").concat(a),method:"get"})}function Se(e){return B({url:"/manage/product/updateStatus",method:"post",data:e})}var Ne=le.a.Column,Le=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,productList:[],pageNum:1,pageSize:5,total:0,productType:"productName",productValue:""},e.init=function(){e.setState({loading:!0}),setTimeout((function(){var t=e.state;ke(t.pageNum,t.pageSize).then((function(t){e.setState({productList:t.data.list,total:t.data.total}),e.setState({loading:!1})}))}),500)},e.search=function(){setTimeout((function(){e.setState({loading:!0,productValue:e.productValueNode.state.value},(function(){var t=e.state,n=t.pageSize;Ie(t.pageNum,n,t.productType,t.productValue).then((function(t){e.setState({productList:t.data.list,total:t.data.total}),e.setState({loading:!1})}))}))}),500)},e.handUpdateStatus=function(t){var n=t.status,a=t._id;return function(){1===n?n=2:2===n&&(n=1),Se({productId:a,status:n}).then((function(t){0===t.status&&(W.b.success("\u64cd\u4f5c\u6210\u529f"),e.init())}))}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=t.productList,r=t.total,i=t.productValue,c=t.pageSize,s=t.productType,o=Object(I.jsxs)("span",{children:[Object(I.jsxs)(xe.a,{defaultValue:s,style:{width:150},onChange:function(t){return e.setState({productType:t})},children:[Object(I.jsx)(xe.a.Option,{value:"productName",children:"\u6309\u540d\u79f0\u641c\u7d22"}),Object(I.jsx)(xe.a.Option,{value:"productDesc",children:"\u6309\u63cf\u8ff0\u641c\u7d22"})]}),Object(I.jsx)(ge.a,{ref:function(t){return e.productValueNode=t},placeholder:"\u8f93\u5165\u5173\u952e\u5b57",style:{width:150,margin:"0 15px"}}),Object(I.jsx)(P.a,{onClick:this.search,type:"primary",children:"\u641c\u7d22"})]});return Object(I.jsx)("div",{children:Object(I.jsx)(de.a,{title:o,extra:Object(I.jsx)(P.a,{icon:Object(I.jsx)(je.a,{}),onClick:function(){return e.props.history.push("/product/addUpdate?title=\u6dfb\u52a0")},type:"primary",children:"\u6dfb\u52a0\u5546\u54c1"}),style:{width:"100%",height:"100%"},children:Object(I.jsxs)(le.a,{bordered:!0,pagination:{defaultPageSize:c,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:[5,10,15,20],total:r,onChange:function(t,n){e.setState({pageNum:t},(function(){""!==i?e.search():e.init()}))}},loading:n,dataSource:a,rowKey:"_id",children:[Object(I.jsx)(Ne,{align:"center",title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name"},"name"),Object(I.jsx)(Ne,{align:"center",title:"\u5546\u54c1\u63cf\u8ff0",dataIndex:"desc"},"desc"),Object(I.jsx)(Ne,{align:"center",title:"\u4ef7\u683c",dataIndex:"price",render:function(e){return"\uffe5"+e}},"price"),Object(I.jsx)(Ne,{align:"center",width:100,title:"\u72b6\u6001",dataIndex:"status",render:function(t,n){return Object(I.jsxs)("span",{children:[Object(I.jsx)(P.a,{type:"primary",onClick:e.handUpdateStatus(n),children:1===t?"\u4e0b\u67b6":"\u4e0a\u67b6"}),Object(I.jsx)("span",{children:1===t?"\u5728\u552e":"\u5df2\u4e0b\u67b6"})]})}},"status"),Object(I.jsx)(Ne,{align:"center",width:"100px",title:"\u64cd\u4f5c",render:function(t,n){return Object(I.jsxs)(ue.b,{size:"middle",children:[Object(I.jsx)(P.a,{type:"link",onClick:function(){return e.props.history.replace("/product/detail",{category:t})},children:"\u8be6\u60c5"}),Object(I.jsx)(P.a,{type:"link",onClick:function(){return e.props.history.push("/product/addUpdate?title=\u4fee\u6539",{category:t})},children:"\u4fee\u6539"})]})}},"action")]})})})}}]),n}(a.Component),_e=n(168),Me=n(496),Ae=n(514),Ve=n(205),ze=n.n(Ve),De=n(100),Te=n.n(De),Fe=n(138),Re=n(491);function Ue(e){return B({url:"/manage/img/upload",method:"post",data:e})}var Pe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).state={fileList:[]},a.beforeUpload=function(e){if(!("image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/gif"===e.type))return W.b.error("\u8bf7\u4e0a\u4f20\u683c\u5f0f\u4e3apng, gif, jpg, jpeg\u7684\u56fe\u7247"),!1;if(!(e.size/1024/1024<2))return W.b.error("Image must smaller than 2MB!"),!1;var t=new FormData;return t.append("image",e),Ue(t).then((function(e){0===e.status&&a.setState({fileList:[e.data].concat(Object(_e.a)(a.state.fileList))},(function(){K.a.publish("upload",a.state.fileList)}))})),!1},a.onRemove=function(e){var t;(t={name:e.name},B({url:"/manage/img/delete",method:"post",data:t})).then((function(t){if(0===t.status){var n=a.state.fileList.filter((function(t){return t.name!==e.name}));a.setState({fileList:n})}}))},a.onPreview=function(){var e=Object(Fe.a)(Te.a.mark((function e(t){var n,a;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 4:n=e.sent;case 5:(a=new Image).src=n,window.open(n).document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=[],i=a.props.imgs;return i&&i.length>0&&(r=i.map((function(e){return{url:e}})),a.state={fileList:r}),a}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsx)(Re.a,{action:"",accept:"image/*",listType:"picture-card",fileList:this.state.fileList,beforeUpload:this.beforeUpload,onPreview:this.onPreview,onRemove:this.onRemove,children:this.state.fileList.length<5&&"+ Upload"})}}]),n}(a.Component),qe=n(513),Ke=n(206),He=n.n(Ke),Ee=n(199),Je=(n(474),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editorState:null},e.submitContent=Object(Fe.a)(Te.a.mark((function t(){var n;return Te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.editorState.toHTML(),K.a.publish("rich-text",n);case 2:case"end":return t.stop()}}),t)}))),e.handleEditorChange=function(t){e.setState({editorState:t},(function(){K.a.publish("rich-text",e.state.editorState.toHTML())}))},e.preview=function(){window.previewWindow&&window.previewWindow.close(),window.previewWindow=window.open(),window.previewWindow.document.write(e.buildPreviewHtml()),window.previewWindow.document.close()},e.uploadHandler=function(t){if(!("image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type||"image/gif"===t.type))return W.b.error("\u8bf7\u4e0a\u4f20\u683c\u5f0f\u4e3apng, gif, jpg, jpeg\u7684\u56fe\u7247"),!1;if(!(t.size/1024/1024<2))return W.b.error("Image must smaller than 2MB!"),!1;var n=new FormData;return n.append("image",t),Ue(n).then((function(t){0===t.status&&e.setState({editorState:Ee.ContentUtils.insertMedias(e.state.editorState,[{type:"IMAGE",url:t.data.url}])})})),!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Te.a.mark((function e(){var t;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.detail,this.setState({editorState:He.a.createEditorState(t)});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"buildPreviewHtml",value:function(){return'\n      <!Doctype html>\n      <html>\n        <head>\n          <title>Preview Content</title>\n          <style>\n            html,body{\n              height: 100%;\n              margin: 0;\n              padding: 0;\n              overflow: auto;\n              background-color: #f1f2f3;\n            }\n            .container{\n              box-sizing: border-box;\n              width: 1000px;\n              max-width: 100%;\n              min-height: 100%;\n              margin: 0 auto;\n              padding: 30px 20px;\n              overflow: hidden;\n              background-color: #fff;\n              border-right: solid 1px #eee;\n              border-left: solid 1px #eee;\n            }\n            .container img,\n            .container audio,\n            .container video{\n              max-width: 100%;\n              height: auto;\n            }\n            .container p{\n              white-space: pre-wrap;\n              min-height: 1em;\n            }\n            .container pre{\n              padding: 15px;\n              background-color: #f1f1f1;\n              border-radius: 5px;\n            }\n            .container blockquote{\n              margin: 0;\n              padding: 15px;\n              background-color: #f1f1f1;\n              border-left: 3px solid #d1d1d1;\n            }\n          </style>\n        </head>\n        <body>\n          <div class="container">'.concat(this.state.editorState.toHTML(),"</div>\n        </body>\n      </html>\n    ")}},{key:"render",value:function(){var e=[{key:"custom-button",type:"button",text:"\u9884\u89c8",onClick:this.preview},{key:"antd-uploader",type:"component",component:Object(I.jsx)(Re.a,{accept:"image/*",showUploadList:!1,beforeUpload:this.uploadHandler,children:Object(I.jsx)("button",{type:"button",className:"control-item button upload-button","data-title":"\u63d2\u5165\u56fe\u7247",children:Object(I.jsx)(qe.a,{})})})}],t=this.state.editorState;return Object(I.jsx)(He.a,{extendControls:e,value:t,onChange:this.handleEditorChange,onSave:this.submitContent,contentStyle:{height:400,border:"1px solid #cccccc"},placeholder:"\u8bf7\u8f93\u5165\u6587\u672c"})}}]),n}(a.Component)),We=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={options:[],imgs:[],content:""},e.init=function(){he(0).then((function(t){if(0===t.status){var n=t.data.map((function(e){return{value:e._id,label:e.name,isLeaf:!1}}));e.setState({options:n})}}))},e.onFinish=function(t){var n=e.state,a=n.imgs,r=n.content,i=[];a.map((function(e){return i.push(e.url)})),t.imgs=i,t.detail=r,t.categoryId=t.categoryId[1],t.pCategoryId=t.categoryId[0];var c=e.props.location.search;"\u6dfb\u52a0"===ze.a.parse(c.slice(1)).title?be(t).then((function(t){console.log(t),0===t.status&&(W.b.success("\u6dfb\u52a0\u6210\u529f"),e.props.history.replace("/product"))})):me(t).then((function(t){0===t.status&&(W.b.success("\u4fee\u6539\u6210\u529f"),e.props.history.replace("/product"))}))},e.loadData=function(t){var n=t[t.length-1];n.loading=!0,setTimeout((function(){n.loading=!1,he(n.value).then((function(t){var a=t.data.map((function(e){return{value:e._id,label:e.name,isLeaf:!0}}));n.children=a,e.setState({options:Object(_e.a)(e.state.options)})}))}),1e3)},e.init(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;K.a.subscribe("upload",(function(t,n){e.setState({imgs:n})})),K.a.subscribe("rich-text",(function(t,n){e.setState({content:n})}))}},{key:"render",value:function(){var e=this,t=this.props.location.search,n=ze.a.parse(t.slice(1)).title,a=(this.props.location.state||{}).category;void 0===a&&(a={});var r=[];r.push(a.pCategoryId),r.push(a.categoryId);var i=Object(I.jsxs)("span",{children:[Object(I.jsx)(P.a,{onClick:function(){return e.props.history.replace("/product")},type:"link",children:Object(I.jsx)(Ae.a,{})}),n,"\u5546\u54c1"]});return Object(I.jsx)(de.a,{title:i,children:Object(I.jsxs)(fe.a,{name:"basic",labelCol:{span:2},wrapperCol:{span:8},initialValues:{_id:a._id,name:a.name,desc:a.desc,price:a.price,categoryId:r},onFinish:this.onFinish,children:[Object(I.jsx)(fe.a.Item,{hidden:!0,name:"_id",children:Object(I.jsx)(ge.a,{})}),Object(I.jsx)(fe.a.Item,{label:"\u5546\u54c1\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u5546\u54c1\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a!"}],children:Object(I.jsx)(ge.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"})}),Object(I.jsx)(fe.a.Item,{label:"\u5546\u54c1\u63cf\u8ff0",name:"desc",rules:[{required:!0,message:"\u5546\u54c1\u63cf\u8ff0\u4e0d\u80fd\u4e3a\u7a7a!"}],children:Object(I.jsx)(ge.a.TextArea,{autoSize:{minRows:2,maxRows:6}})}),Object(I.jsx)(fe.a.Item,{label:"\u5546\u54c1\u4ef7\u683c",name:"price",rules:[{required:!0,message:"\u5546\u54c1\u4ef7\u683c\u4e0d\u80fd\u4e3a\u7a7a!"},{validator:function(e,t,n){return t<=0?Promise.reject(new Error("\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e0\u5143")):Promise.resolve()}}],children:Object(I.jsx)(ge.a,{type:"number",addonAfter:"\u5143"})}),Object(I.jsx)(fe.a.Item,{label:"\u5546\u54c1\u5206\u7c7b",name:"categoryId",rules:[{required:!0,message:"\u5546\u54c1\u5206\u7c7b\u4e0d\u80fd\u4e3a\u7a7a!"}],children:Object(I.jsx)(Me.a,{options:this.state.options,loadData:this.loadData})}),Object(I.jsx)(fe.a.Item,{label:"\u5546\u54c1\u56fe\u7247",name:"imgs",children:Object(I.jsx)(Pe,{imgs:a.imgs})}),Object(I.jsx)(fe.a.Item,{wrapperCol:{span:20},label:"\u5546\u54c1\u8be6\u60c5",name:"detail",children:Object(I.jsx)(Je,{detail:a.detail})}),Object(I.jsx)(fe.a.Item,{wrapperCol:{offset:2,span:8},children:Object(I.jsx)(P.a,{type:"primary",htmlType:"submit",children:n})})]})})}}]),n}(a.Component),Ze=n(499),Be=(n(475),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).state={categoryName:"",pCategoryName:""};var r=a.props.location.state.category,i=r.categoryId,c=r.pCategoryId;return"0"===c?Oe(i).then((function(e){a.setState({categoryName:e.data.name})})):(Oe(i).then((function(e){a.setState({categoryName:e.data.name})})),Oe(c).then((function(e){a.setState({pCategoryName:e.data.name})}))),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.location.state.category,n=this.state,a=n.categoryName,r=n.pCategoryName,i=Object(I.jsxs)("span",{children:[Object(I.jsx)(P.a,{onClick:function(){return e.props.history.replace("/product")},type:"link",children:Object(I.jsx)(Ae.a,{})}),"\u5546\u54c1\u8be6\u60c5"]});return Object(I.jsx)(de.a,{title:i,className:"product-detail",children:Object(I.jsxs)(Ze.b,{bordered:!0,children:[Object(I.jsxs)(Ze.b.Item,{children:[Object(I.jsx)("span",{className:"left",children:"\u5546\u54c1\u540d\u79f0:"}),Object(I.jsx)("span",{children:t.name})]}),Object(I.jsxs)(Ze.b.Item,{children:[Object(I.jsx)("span",{className:"left",children:"\u5546\u54c1\u63cf\u8ff0:"}),Object(I.jsx)("span",{children:t.desc})]}),Object(I.jsxs)(Ze.b.Item,{children:[Object(I.jsx)("span",{className:"left",children:"\u5546\u54c1\u4ef7\u683c:"}),Object(I.jsx)("span",{children:t.price})]}),Object(I.jsxs)(Ze.b.Item,{children:[Object(I.jsx)("span",{className:"left",children:"\u6240\u5c5e\u5206\u7c7b:"}),Object(I.jsxs)("span",{children:[a," ",r?"--\x3e "+r:""]})]}),Object(I.jsxs)(Ze.b.Item,{children:[Object(I.jsx)("span",{className:"left",children:"\u5546\u54c1\u56fe\u7247:"}),t.imgs.map((function(e){return Object(I.jsx)("span",{children:Object(I.jsx)("img",{alt:e,style:{width:150,height:150,marginRight:10,border:"1px solid #002140"},src:"http://localhost:5000/upload/".concat(e)})},e)}))]}),Object(I.jsxs)(Ze.b.Item,{children:[Object(I.jsx)("span",{className:"left",children:"\u5546\u54c1\u8be6\u60c5:"}),Object(I.jsx)("span",{dangerouslySetInnerHTML:{__html:t.detail}})]})]})})}}]),n}(a.Component)),Qe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsxs)(s.d,{children:[Object(I.jsx)(s.b,{path:"/product/addUpdate",component:We}),Object(I.jsx)(s.b,{path:"/product/detail",component:Be}),Object(I.jsx)(s.b,{path:"/product",component:Le})]})}}]),n}(a.Component);function $e(){return B({url:"/manage/role/list",method:"get"})}function Ge(e){return B({url:"/manage/role/add",method:"post",data:e})}var Xe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).save=function(t){Ge({roleName:t.name}).then((function(t){0===t.status&&(W.b.success("\u6dfb\u52a0\u6210\u529f"),e.props.handleCancel(),e.props.init())}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsxs)(fe.a,{layout:"vertical",onFinish:this.save,children:[Object(I.jsx)(fe.a.Item,{label:"\u89d2\u8272\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"}],children:Object(I.jsx)(ge.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"})}),Object(I.jsxs)(fe.a.Item,{children:[Object(I.jsx)(P.a,{onClick:this.props.handleCancel,children:"\u53d6\u6d88"}),Object(I.jsx)(P.a,{type:"primary",htmlType:"submit",children:"\u6dfb\u52a0"})]})]})}}]),n}(a.Component),Ye=n(493),et=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={checkedKeys:[],roleName:""},a.auth=function(){var e=a.props.rowRole._id,t=a.state.checkedKeys,n=(new Date).getTime(),r=a.props.user.username;(function(e){return B({url:"/manage/role/update",method:"post",data:e})})({_id:e,menus:t,auth_time:n,auth_name:r}).then((function(n){0===n.status&&(e===a.props.user.role_id?(W.b.warning("\u5f53\u524d\u6743\u9650\u5df2\u66f4\u65b0\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),a.props.doLogout(""),a.props.history.replace("/login")):(W.b.success("\u4fee\u6539\u6210\u529f"),a.props.handleCancel(),a.props.init(),a.props.rowRole.menus=t))}))},a.onCheck=function(e){a.setState({checkedKeys:e})},a.state.checkedKeys=e.rowRole.menus,a.state.roleName=e.rowRole.name,a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.checkedKeys,n=e.roleName;return Object(I.jsxs)(fe.a,{onFinish:this.auth,initialValues:{name:n},children:[Object(I.jsx)(fe.a.Item,{label:"\u89d2\u8272\u540d\u79f0",name:"name",children:Object(I.jsx)(ge.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"})}),Object(I.jsx)(fe.a.Item,{children:Object(I.jsx)(Ye.a,{checkable:!0,checkedKeys:{checked:t},defaultExpandAll:!0,treeData:S,onCheck:this.onCheck})}),Object(I.jsxs)(fe.a.Item,{children:[Object(I.jsx)(P.a,{onClick:this.props.handleCancel,children:"\u53d6\u6d88"}),Object(I.jsx)(P.a,{type:"primary",htmlType:"submit",children:"\u6388\u6743"})]})]})}}]),n}(a.Component),tt=Object(H.b)((function(e){return{user:e.user}}),{doLogout:G})(Object(s.g)(et)),nt=le.a.Column,at=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,roleList:[],rowRole:{},addIsModalVisible:!1,authIsModalVisible:!1},e.init=function(){$e().then((function(t){e.setState({roleList:t.data})}))},e.selectRow=function(t){return{onClick:function(n){e.setState({rowRole:t})}}},e.handleCancel=function(){e.setState({addIsModalVisible:!1,authIsModalVisible:!1})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=t.roleList,r=t.rowRole,i=t.addIsModalVisible,c=t.authIsModalVisible,s=Object(I.jsxs)("span",{children:[Object(I.jsx)(P.a,{type:"primary",onClick:function(){return e.setState({addIsModalVisible:!0})},children:"\u521b\u5efa\u89d2\u8272"}),Object(I.jsx)(P.a,{disabled:!r._id,onClick:function(){return e.setState({authIsModalVisible:!0})},children:"\u8bbe\u7f6e\u89d2\u8272\u6743\u9650"})]});return Object(I.jsxs)("div",{children:[Object(I.jsx)(de.a,{title:s,style:{width:"100%",height:"100%"},children:Object(I.jsxs)(le.a,{onRow:this.selectRow,rowSelection:{type:"radio",onSelect:function(t){return e.setState({rowRole:t})},selectedRowKeys:[r._id]},bordered:!0,pagination:{pageSize:3,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:[5,10,15,20]},loading:n,dataSource:a,rowKey:"_id",children:[Object(I.jsx)(nt,{align:"center",title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name"},"name"),Object(I.jsx)(nt,{align:"center",title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"},"create_time"),Object(I.jsx)(nt,{align:"center",title:"\u6388\u6743\u65f6\u95f4",dataIndex:"auth_time"},"auth_time"),Object(I.jsx)(nt,{align:"center",title:"\u6388\u6743\u4eba",dataIndex:"auth_name"},"auth_name")]})}),Object(I.jsx)(U.a,{footer:null,destroyOnClose:!0,title:"\u6dfb\u52a0\u89d2\u8272",visible:i,onCancel:this.handleCancel,children:Object(I.jsx)(Xe,{init:this.init,handleCancel:this.handleCancel})}),Object(I.jsx)(U.a,{footer:null,destroyOnClose:!0,title:"\u6388\u6743\u89d2\u8272\u6743\u9650",visible:c,onCancel:this.handleCancel,children:Object(I.jsx)(tt,{init:this.init,rowRole:r,handleCancel:this.handleCancel})})]})}}]),n}(a.Component);function rt(){return B({url:"/manage/user/list",method:"get"})}function it(e){return B({url:"/manage/user/add",method:"post",data:e})}function ct(e){return B({url:"/manage/user/update",method:"post",data:e})}function st(e){return B({url:"/manage/user/delete",method:"post",data:e})}var ot=xe.a.Option,lt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){"\u6dfb\u52a0\u7528\u6237"===e.props.title?it(t).then((function(t){0===t.status&&(W.b.success("\u6dfb\u52a0\u7528\u6237\u6210\u529f"),e.props.handleCancel(),e.props.init())})):ct(t).then((function(t){0===t.status&&(W.b.success("\u4fee\u6539\u7528\u6237\u6210\u529f"),e.props.handleCancel(),e.props.init())}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.roleList,a=e.handleCancel,r=e.user;return Object(I.jsxs)(fe.a,{name:"basic",labelCol:{span:4},wrapperCol:{span:20},initialValues:{_id:r._id,username:r.username,password:r.password,phone:r.phone,email:r.email,role_id:r.role_id},onFinish:this.onFinish,children:[Object(I.jsx)(fe.a.Item,{hidden:!0,name:"_id",children:Object(I.jsx)(ge.a,{})}),Object(I.jsx)(fe.a.Item,{label:"\u7528\u6237\u540d",name:"username",rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"}],children:Object(I.jsx)(ge.a,{})}),Object(I.jsx)(fe.a.Item,{hidden:"\u4fee\u6539\u7528\u6237"===t,label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"}],children:Object(I.jsx)(ge.a.Password,{})}),Object(I.jsx)(fe.a.Item,{label:"\u624b\u673a\u53f7",name:"phone",rules:[{required:!0,message:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/^1[3456789]\d{9}$/,message:"\u624b\u673a\u53f7\u7801\u4e0d\u6b63\u786e\uff01"}],children:Object(I.jsx)(ge.a,{})}),Object(I.jsx)(fe.a.Item,{label:"\u90ae\u7bb1",name:"email",rules:[{required:!0,message:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/^[A-Za-zd0-9]+([-_.][A-Za-zd]+)*@([A-Za-zd]+[-.])+[A-Za-zd]{2,5}$/,message:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],children:Object(I.jsx)(ge.a,{})}),Object(I.jsx)(fe.a.Item,{label:"\u89d2\u8272",name:"role_id",rules:[{required:!0,message:"\u89d2\u8272\u4e0d\u80fd\u4e3a\u7a7a"}],children:Object(I.jsx)(xe.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272",children:n.map((function(e){return Object(I.jsx)(ot,{value:e._id,children:e.name},e._id)}))})}),Object(I.jsxs)(fe.a.Item,{wrapperCol:{offset:4,span:20},children:[Object(I.jsx)(P.a,{onClick:a,children:"\u53d6\u6d88"}),Object(I.jsx)(P.a,{type:"primary",htmlType:"submit",children:t})]})]})}}]),n}(a.Component),dt=le.a.Column,ut=U.a.confirm,pt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,userList:[],roleList:[],isModalVisible:!1,titleName:"",user:{}},e.init=function(){rt().then((function(t){var n=t.data.users.map((function(e){return t.data.roles.map((function(t){t._id===e.role_id&&(e.roleName=t.name)})),e}));e.setState({userList:n,roleList:t.data.roles})}))},e.del=function(t){return function(){ut({icon:Object(I.jsx)(T.a,{}),content:"\u786e\u5b9a\u8981\u5220\u9664\uff1f",onOk:function(){st({userId:t}).then((function(t){0===t.status&&(W.b.success("\u5220\u9664\u6210\u529f"),e.init())}))}})}},e.handleCancel=function(){e.setState({isModalVisible:!1})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this,t=Object(I.jsx)("span",{children:Object(I.jsx)(P.a,{type:"primary",onClick:function(){return e.setState({isModalVisible:!0,titleName:"\u6dfb\u52a0\u7528\u6237"})},children:"\u521b\u5efa\u7528\u6237"})}),n=this.state,a=n.loading,r=n.userList,i=n.isModalVisible,c=n.titleName,s=n.roleList,o=n.user;return Object(I.jsxs)("div",{children:[Object(I.jsx)(de.a,{title:t,style:{width:"100%",height:"100%"},children:Object(I.jsxs)(le.a,{bordered:!0,pagination:{defaultPageSize:3,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:[5,10,15,20]},loading:a,dataSource:r,rowKey:"_id",children:[Object(I.jsx)(dt,{align:"center",title:"\u7528\u6237\u540d",dataIndex:"username"},"username"),Object(I.jsx)(dt,{align:"center",title:"\u90ae\u7bb1",dataIndex:"email"},"email"),Object(I.jsx)(dt,{align:"center",title:"\u7535\u8bdd",dataIndex:"phone"},"phone"),Object(I.jsx)(dt,{align:"center",title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"create_time",render:function(e,t){return n=e,(n=new Date(n)).getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();var n}},"create_time"),Object(I.jsx)(dt,{align:"center",title:"\u6240\u5c5e\u89d2\u8272",dataIndex:"roleName"},"roleName"),Object(I.jsx)(dt,{align:"center",width:"100px",title:"\u64cd\u4f5c",render:function(t,n){return Object(I.jsxs)(ue.b,{size:"middle",children:[Object(I.jsx)(P.a,{type:"link",onClick:function(){return e.setState({isModalVisible:!0,titleName:"\u4fee\u6539\u7528\u6237",user:t})},children:"\u4fee\u6539"}),Object(I.jsx)(P.a,{onClick:e.del(t._id),type:"link",children:"\u5220\u9664"})]})}},"action")]})}),Object(I.jsx)(U.a,{destroyOnClose:!0,title:c,footer:null,visible:i,onCancel:this.handleCancel,children:Object(I.jsx)(lt,{user:o,init:this.init,title:c,handleCancel:this.handleCancel,roleList:s})})]})}}]),n}(a.Component),jt=n(122),ht=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={sales:[5,20,36,10,10,20],stores:[15,12,6,20,15,20]},e.update=function(){e.setState((function(e){return{sales:e.sales.map((function(e){return e+1})),stores:e.stores.map((function(e){return e-1}))}}))},e.getOption=function(){var t=e.state;return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"bar",data:t.sales},{name:"\u5e93\u5b58",type:"bar",data:t.stores}]}},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(de.a,{children:Object(I.jsx)(P.a,{type:"primary",onClick:this.update,children:"\u66f4\u65b0"})}),Object(I.jsx)(de.a,{title:"\u67f1\u72b6\u56fe\u4e00",children:Object(I.jsx)(jt.a,{option:this.getOption(),style:{height:300}})})]})}}]),n}(a.Component),bt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={sales:[5,20,36,10,10,20],stores:[15,12,6,20,15,20]},e.update=function(){e.setState((function(e){return{sales:e.sales.map((function(e){return e+1})),stores:e.stores.map((function(e){return e-1}))}}))},e.getOption=function(){var t=e.state;return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"line",data:t.sales},{name:"\u5e93\u5b58",type:"line",data:t.stores}]}},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(de.a,{children:Object(I.jsx)(P.a,{type:"primary",onClick:this.update,children:"\u66f4\u65b0"})}),Object(I.jsx)(de.a,{title:"\u67f1\u72b6\u56fe\u4e00",children:Object(I.jsx)(jt.a,{option:this.getOption(),style:{height:300}})})]})}}]),n}(a.Component),mt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={sales:[5,20,36,10,10,20],stores:[15,12,6,20,15,20]},e.update=function(){e.setState((function(e){return{sales:e.sales.map((function(e){return e+1})),stores:e.stores.map((function(e){return e-1}))}}))},e.getOption=function(){var t=e.state;t.sales,t.stores;return{title:{text:"\u67d0\u7ad9\u70b9\u7528\u6237\u8bbf\u95ee\u6765\u6e90",subtext:"\u7eaf\u5c5e\u865a\u6784",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"50%",data:[{value:1048,name:"\u641c\u7d22\u5f15\u64ce"},{value:735,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:580,name:"\u90ae\u4ef6\u8425\u9500"},{value:484,name:"\u8054\u76df\u5e7f\u544a"},{value:300,name:"\u89c6\u9891\u5e7f\u544a"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(de.a,{children:Object(I.jsx)(P.a,{type:"primary",onClick:this.update,children:"\u66f4\u65b0"})}),Object(I.jsx)(de.a,{title:"\u67f1\u72b6\u56fe\u4e00",children:Object(I.jsx)(jt.a,{option:this.getOption(),style:{height:300}})})]})}}]),n}(a.Component),Ot=n(127),ft=n(72),xt=n.p+"static/media/404.367724aa.gif",gt=(n(481),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleGoMain=function(){e.props.history.replace("/")},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{children:Object(I.jsx)("div",{class:"app-container",children:Object(I.jsxs)(Ot.a,{children:[Object(I.jsx)(ft.a,{span:12,children:Object(I.jsx)("img",{src:xt,alt:"404",className:"img-style"})}),Object(I.jsx)(ft.a,{span:12,children:Object(I.jsxs)("div",{style:{marginLeft:"100px",marginTop:"60px"},children:[Object(I.jsx)("h1",{className:"color-main",children:"OOPS!"}),Object(I.jsx)("h2",{style:{color:"#606266"},children:"Sorry, the page got lost accidentally\uff01"}),Object(I.jsx)("div",{style:{color:"#909399",fontSize:"14px"},children:"Please check the URL entered is correct, please click the button below to return to the homepage or send an error report, thanks."}),Object(I.jsx)(P.a,{style:{marginTop:"20px"},type:"primary",shape:"round",onClick:this.handleGoMain,children:"Back to Home"})]})})]})})})}}]),n}(a.Component)),yt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.token=K.a.subscribe("collapsed",(function(t,n){e.setState({collapsed:n})}))}},{key:"componentWillUnmount",value:function(){K.a.unsubscribe(this.token)}},{key:"render",value:function(){return M()?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(p.a,{id:"components-layout-demo-custom-trigger",children:[Object(I.jsx)(D,{collapsed:this.state.collapsed}),Object(I.jsxs)(p.a,{className:"site-layout",children:[Object(I.jsx)(ee,{collapsed:this.state.collapsed}),Object(I.jsx)(se,{}),Object(I.jsx)(ne,{children:Object(I.jsxs)(s.d,{children:[Object(I.jsx)(s.a,{exact:!0,from:"/",to:"/home"}),Object(I.jsx)(s.b,{path:"/home",component:oe}),Object(I.jsx)(s.b,{path:"/product",component:Qe}),Object(I.jsx)(s.b,{path:"/category",component:Ce}),Object(I.jsx)(s.b,{path:"/role",component:at}),Object(I.jsx)(s.b,{path:"/user",component:pt}),Object(I.jsx)(s.b,{path:"/charts/bar",exact:!0,component:ht}),Object(I.jsx)(s.b,{path:"/charts/line",exact:!0,component:bt}),Object(I.jsx)(s.b,{path:"/charts/pie",exact:!0,component:mt}),Object(I.jsx)(s.b,{component:gt})]})}),Object(I.jsx)(re,{})]})]})}):Object(I.jsx)(s.a,{to:"/login"})}}]),n}(a.Component),vt=(n(482),n(515)),wt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){e.props.doLogin(t)},e}return Object(l.a)(n,[{key:"render",value:function(){return this.props.user?Object(I.jsx)(s.a,{to:"/"}):Object(I.jsxs)("div",{className:"login",children:[Object(I.jsxs)("header",{className:"login-header",children:[Object(I.jsx)("img",{alt:"logo",src:h}),Object(I.jsx)("h1",{children:"React\u9879\u76ee\uff1a\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"})]}),Object(I.jsxs)("section",{className:"login-content",children:[Object(I.jsx)("h2",{children:"\u7528\u6237\u767b\u5f55"}),Object(I.jsx)("div",{children:Object(I.jsxs)(fe.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(I.jsx)(fe.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"},{min:4,message:"\u6700\u5c11\u957f\u5ea6\u4e3a4\u4f4d"},{max:12,message:"\u6700\u5927\u957f\u5ea6\u4e3a12\u4f4d"},{pattern:/^[0-9a-zA-Z_]{1,}$/,message:"\u5fc5\u987b\u4e3a\u6570\u5b57\uff0c\u5b57\u6bcd\uff0c\u4e0b\u5212\u7ebf\u7ec4\u6210"}],children:Object(I.jsx)(ge.a,{prefix:Object(I.jsx)(g.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(I.jsx)(fe.a.Item,{name:"password",rules:[{required:!0,whitespace:!1,message:"Please input your Username!"},{min:4,message:"\u6700\u5c11\u957f\u5ea6\u4e3a4\u4f4d"},{max:12,message:"\u6700\u5927\u957f\u5ea6\u4e3a12\u4f4d"},{pattern:/^[0-9a-zA-Z_]{1,}$/,message:"\u5fc5\u987b\u4e3a\u6570\u5b57\uff0c\u5b57\u6bcd\uff0c\u4e0b\u5212\u7ebf\u7ec4\u6210"}],children:Object(I.jsx)(ge.a,{prefix:Object(I.jsx)(vt.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(I.jsx)(fe.a.Item,{children:Object(I.jsx)(P.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"\u767b\u5f55"})})]})})]})]})}}]),n}(a.Component),Ct=Object(H.b)((function(e){return{user:e.user}}),{doLogin:function(e){return function(t){var n;(n=e,B({url:"/login",method:"post",data:n})).then((function(e){0===e.status&&(!function(e){var t=new Date((new Date).getTime()+864e5);L.a.set(_,JSON.stringify(e),{expires:t})}(e.data),t(function(e){return{type:Q,data:e}}(e.data)))}))}}})(wt);var kt=function(){return Object(I.jsx)(a.Fragment,{children:Object(I.jsxs)(s.d,{children:[Object(I.jsx)(s.b,{path:"/login",component:Ct}),Object(I.jsx)(s.b,{path:"/",component:yt})]})})},It=n(121),St=n(263),Nt=void 0===M()?"":M();var Lt=Object(It.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:case $:return t.data;default:return e}}}),_t=n(264),Mt=Object(It.createStore)(Lt,Object(_t.composeWithDevTools)(Object(It.applyMiddleware)(St.a)));c.a.render(Object(I.jsx)(b.a,{children:Object(I.jsx)(H.a,{store:Mt,children:Object(I.jsx)(kt,{})})}),document.getElementById("root"))}},[[483,1,2]]]);
//# sourceMappingURL=main.a9d87d0e.chunk.js.map